

# ๐ ุฏุณุชูุฑ ุงููุดุฑูุน โ Datacodex

> **ุงูุฅุตุฏุงุฑ:** 3.2.0
> **ุงูุญุงูุฉ:** ูุซููุฉ ุญุงููุฉ
> **ุขุฎุฑ ุชุญุฏูุซ:** 2026-02-17

---

> โ๏ธ ูุฐุง ุงูููู ููุซู ุงููุงููู ุงูุญุงูู ูููุดุฑูุน.
> ูุง ูุฌูุฒ ูุฎุงููุชู ุฅูุง ุจุชุตุฑูุญ ุตุฑูุญ ูู ุงููุทูุฑ.
>
> ุงูููู ููุณู ููุณููู:
> - **ุฃูุณุงู ุซุงุจุชุฉ** โ ููุณูุง ูู ูู ูุดุฑูุน
> - **ุฃูุณุงู ูุชุบูุฑุฉ** โ ุชูููุฃ ููู ูุดุฑูุน ุญุณุจ ุทุจูุนุชู

---

# โโโ ุงูุฃูุณุงู ุงูุซุงุจุชุฉ โโโ

---

## 1. ุจุฑูุชูููู ุงูุซูุงุซู (The Trinity Protocol)

ูุธุงู ุงูุนูู ูุนุชูุฏ ุนูู ุซูุงุซุฉ ุฃุฏูุงุฑ ูุชูุงููุฉ ูุง ูุฌูุฒ ุชุฏุงุฎููุง:

### ๐ค ุงููุทูุฑ (The Developer - Visionary)
- **ุงูุฏูุฑ:** ุตุงุญุจ ุงูุฑุคูุฉุ ูุตุฏุฑ ุงููุชุทูุจุงุชุ ุตุงุญุจ ุงููุฑุงุฑ ุงูููุงุฆู
- **ุงููุณุคูููุฉ:** ุชุญุฏูุฏ "ูุงุฐุง" ูุฑูุฏ ู "ููุงุฐุง"

### ๐ง ุงููุดุฑู (The Supervisor - AI Architect)
- **ุงูุฏูุฑ:** ุงููููุฏุณ ุงููุนูุงุฑู ูุงููุฑุงูุจ
- **ุงููุณุคูููุฉ:**
  - ุชุญููู ูุบุฉ ุงููุทูุฑ ุงูุทุจูุนูุฉ ุฅูู ุฎุทุท ุชูููุฉ ูุญููุฉ
  - ุชูุฌูู ุงููููู ูุชุตุญูุญ ูุณุงุฑู ุฅุฐุง "ูููุณ"
- **ูุญุธูุฑุงุช:** ูุง ููุชุจ ููุฏ ุงูุชูููุฐ ุจูุฏู
- **ุงููุฎุฑุฌุงุช:** ูููุงุช ุชุฎุทูุทุ ูุฑุงุฌุนุฉ ููููุฏ

### ๐ค ุงููููู (The Agent - Executor)
- **ุงูุฏูุฑ:** ุงููููุฐ ุงููุญุชุฑู
- **ุงููุณุคูููุฉ:**
  - ุชูููุฐ ุงูุชุนูููุงุช ุงูุชูููุฉ ุงูุตุงุฏุฑุฉ ูู ุงููุดุฑู
  - ูุชุงุจุฉ ุงูููุฏ ุงููุซุงูู ุงูุฐู ูุญูู ุงููุชุทูุจุงุช
- **ุงููุฑุฌุนูุฉ:** ูุง ูููุฐ ุฃูุฑุงู ูุฎุงูู ูุฐุง ุงูุฏุณุชูุฑ ุฅูุง ุจุชุตุฑูุญ ุตุฑูุญ ูู ุงููุทูุฑ

---

## 2. ููุณูุฉ ุงูููุฏ ุงููุซุงูู (The Ideal Code Philosophy)

### 2.1 ูุตู ุงูุทุจูุงุช (Separation of Concerns)
- ุงููุงุฌูุฉ ูุง ุชุนุฑู ุดูุฆุงู ุนู ุงูููุทู
- ุงูููุทู ูุง ูุนุฑู ุดูุฆุงู ุนู ูุตุงุฏุฑ ุงูุจูุงูุงุช
- ูุณุชุฎุฏู ุฃููุงุท ุงูุชุตููู ุงูููุงุณุจุฉ:
  - `MVVM` / `MVC` / `Clean Architecture`

### 2.2 ูุง ููุฏููู ุงูุชูููุฉ (Zero Tech Debt)

> **ูุฐุง ุงููุณู ูู ุงููุฑุฌุน ุงููุญูุฏ ููุงุนุฏุฉ ุงูุตูุฑ.**
> `gemini.md` ูุญุชูู ุนูู ุชุฐููุฑ ููุท ููุดุงูุฑ ููุง.

| ุงููุงุนุฏุฉ | ุงูุชูุงุตูู |
|---------|----------|
| ููููุน ุงูุชุฑููุน | ูุง ุญููู ูุคูุชุฉ โ ุญู ุฌุฐุฑู ุฃู ูุง ุญู |
| ููููุน TODO ุจุฏูู ุฎุทุฉ | ูู TODO ูุฌุจ ุฃู ูุญุชูู ุนูู ุชุงุฑูุฎ + ุฎุทุฉ ุญู |
| ุฃู workaround ูููู ููุซู | ุงูุณุจุจ + ูุชู ุณููุฒุงู + ุงูุชุฐูุฑุฉ ุงููุฑุชุจุทุฉ |
| ุงูููุฏ ูุงุจู ููุงุฎุชุจุงุฑ | ูู ุฏุงูุฉ ูููู ุงุฎุชุจุงุฑูุง ุจุดูู ูุณุชูู |
| ุงูููุฏ ูุงุจู ููุตูุงูุฉ | ุชุณููุฉ ูุงุถุญุฉ + ููููุฉ ููุทููุฉ |

### 2.3 ูุจุฏุฃ ุงูุจุณุงุทุฉ (Simplicity Principle)

> ุงุจุฏุฃ ุจุฃุจุณุท ุญู ููููุ ููุณูุน ุนูุฏ ุงูุญุงุฌุฉ ููุท.

| โ ุบูุท | โ ุตุญ |
|--------|------|
| 10 ูููุงุช "ููุชูุณุน ุงููุณุชูุจูู" | ููู ูุงุญุฏ ูุนูู |
| ููุชุจุฉ "ูููู ูุญุชุงุฌูุง" | ุฃุถู ููุง ุชุญุชุงุฌ ูุนูุงู |
| abstraction "ูููุณุชูุจู" | ููุฏ ูุจุงุดุฑ ููุงุถุญ |

### 2.4 ุงูุงุณุชุฏุงูุฉ (Sustainability)
- ููุชุจ ููุฏุงู ูุนูุด ูุณููุงุชุ ููุณ ูููููู
- ุชุณููุฉ ูุงุถุญุฉ ููุนุจุฑุฉ:
  - `Self-documenting code`

---

## 3. ุงูููููุฉ ุงูููุงุณูุฉ ูููุดุฑูุน (Standard Structure)

ุฃู ูุดุฑูุน ุฌุฏูุฏ ูุฌุจ ุฃู ูุญุชูู ุนูู:

```
{project}/
โโโ .agent/                 โ ููุงุนุฏ ุงููููู
โ   โโโ workflows/          โ ุจุฑูุชููููุงุช ุงูุนูู
โโโ docs/                   โ ุงูุชูุซูู
โโโ plans/                  โ ุฎุทุท ุงูุชูููุฐ
โโโ master-constitution.md  โ ุฏุณุชูุฑ ุงููุดุฑูุน (ูุฐุง ุงูููู)
โโโ project-key.md          โ ููุฑุณ ูููุชุงุญ ุงููุดุฑูุน
โโโ project-context.md      โ ุฐุงูุฑุฉ ุงููุดุฑูุน ุงูุญูุฉ
โโโ changelog.md            โ ุณุฌู ุงูุชุบููุฑุงุช
โโโ .git/                   โ ุฅูุฒุงูู ูู ุงููุญุธุฉ ุงูุฃููู
```

---

## 4. ุจุฑูุชูููู ุงูุชูุซูู ุงูุฅูุฒุงูู

> **ุงููุงุนุฏุฉ:** ุงููู ูุด ูุณุฌู ูุด ููุฌูุฏ.

ุฃู ุชุบููุฑ (ุฎุทุฉ / ุฅุตูุงุญ / ูุฑุงุฌุนุฉ / ููุฒุฉ ุฌุฏูุฏุฉ) ููุฑ ุจู 3 ุฎุทูุงุช ุชูุซูู ุฅูุฒุงููุฉ:

```
โ ุงูุชุณุฌูู ูู ููู ุงูุนูู ุงูููุงุณุจ:
   โโโ ุฎุทุฉ     โ plans/XX-name.md
   โโโ ุฅุตูุงุญ   โ plans/fix-DATE-name.md
   โโโ ูุฑุงุฌุนุฉ  โ docs/audits/audit-DATE-topic.md

โก ุงูุชุญุฏูุซ ูู ูููุงุช ุงููุดุฑูุน:
   โโโ project-context.md โ ุชุญุฏูุซ ุงูุญุงูุฉ + ุงููุดุงูู ุงููุนุฑููุฉ
   โโโ changelog.md       โ ุชุณุฌูู ุงูุชุบููุฑ

โข ุงูุฅุดุงุฑุฉ ูู ููุชุงุญ ุงููุดุฑูุน:
   โโโ project-key.md     โ ุฅุถุงูุฉ/ุชุญุฏูุซ ููุฑุณ ุงููููุงุช
```

### ุฌุฏูู ุงูุชูุซูู ุงูุชูุตููู:

| ุงูุญุฏุซ | `project-context.md` | `project-key.md` | `changelog.md` |
|-------|---------------------|-------------------|-----------------| 
| **ุฎุทุฉ ุฌุฏูุฏุฉ** | โ ุฃุถู ูู "ุงูุฎุทูุฉ ุงูุชุงููุฉ" | โ ุฃุถู ููู ุงูุฎุทุฉ ูู ุงูููุฑุณ | โ ูุณู |
| **ุชูููุฐ ุฎุทุฉ** | โ ุญุฏุซ ุงูุญุงูุฉ | โ ุญุฏุซ ูู ููู ูููุงุช ุฌุฏูุฏุฉ | โ ุณุฌู ุงูุชุบููุฑ |
| **ุฅุตูุงุญ bug** | โ ุฃุถู ูู "ุงููุดุงูู ุงููุนุฑููุฉ" | โ ุฃุถู ููู ุงูุฅุตูุงุญ | โ ุณุฌู ุงูุฅุตูุงุญ |
| **ูุฑุงุฌุนุฉ** | โ ุญุฏุซ ูู ููู ูุดุงูู | โ ุฃุถู ุชูุฑูุฑ ุงููุฑุงุฌุนุฉ | โ ูุด ุชุบููุฑ |
| **ุฅุถุงูุฉ ููู ุฌุฏูุฏ** | โ | โ ุฃุถู ูู ุงูููุฑุณ | โ ุณุฌู |
| **ุญุฐู ููู** | โ | โ ุดูู ูู ุงูููุฑุณ | โ ุณุฌู |
| **ุญู ูุงุดู** | โ ุฃุถู ูู "ุงููุงุฆูุฉ ุงูุณูุฏุงุก" | โ | โ |

---

## 5. ูุธุงู ุงูุชุฑููู (Semantic Versioning)

| ุงูููุน | ุงูุญุงูุฉ | ูุซุงู |
|-------|--------|------|
| **X.0.0** (Major) | ุชุบููุฑ ุฌุฐุฑู ุฃู ูุณุฑ ุชูุงูู | `2.0.0` |
| **0.Y.0** (Minor) | ููุฒุงุช ุฌุฏูุฏุฉ ุจุฏูู ูุณุฑ | `1.1.0` |
| **0.0.Z** (Patch) | ุฅุตูุงุญ ุฃุฎุทุงุก ููุท | `1.0.1` |

### ุชุชุจุน ุงูุฅุตุฏุงุฑ ูู ุงูุชุทุจูู (App Version Tracking)

> **ูู ุชุทุจูู ููุจูู ูุงุฒู ูุนุฑุถ ุฑูู ุฅุตุฏุงุฑู ุจูุถูุญ.**

| ุงููุงุนุฏุฉ | ุงูุชูุงุตูู |
|---------|----------|
| ุนุฑุถ ุฑูู ุงูุฅุตุฏุงุฑ | ูู ููุงู ูุงุถุญ (footer / about / settings) |
| ุงูุชุญุฏูุซ ุงูุชููุงุฆู | ุฃู ุชุนุฏูู ูู ุงูููุฏ ูุชุนูุณ ูู ุฑูู ุงูุฅุตุฏุงุฑ ุงูุธุงูุฑ |
| ุงููุทูุฑ ูุชุงุจุน | ูู ูุงุฌูุฉ ุงูุชุทุจูู ูุจุงุดุฑุฉ ููุฏุฑ ูุนุฑู ุฃู ุฅุตุฏุงุฑ ุดุบุงู |
| ุงูุชูุซูู | ูู ุชุบููุฑ ุฅุตุฏุงุฑ ููุณุฌู ูู `changelog.md` |

---

## 6. ูุนุงููุฑ ุงููุงุฌูุฉ ูุงูุชุฌุฑุจุฉ (UI/UX Standards)

### 6.1 ุงูุซุจุงุช ุงูููููู
- ุฅุทุงุฑ ุงูุจุฑูุงูุฌ ูุฌุจ ุฃู ูููู ุซุงุจุชุงู
- ุนูุฏ ุฒูุงุฏุฉ ุงูุจูุงูุงุชุ ูุณุชุฎุฏู:
  - `Scrolling` ุฃู `Pagination`
- โ ููููุน ุชุบููุฑ ุญุฌู ุงููุงูุฐุฉ ุชููุงุฆูุงู

### 6.2 ุงูุชูุทูู ุงูููุงูู
- ุชุบููุฑ ุงููุบุฉ ูุง ูุบูุฑ ุชุฎุทูุท ุงูุตูุญุฉ
- ุงูุนูุงุตุฑ ุชุจูู ูู ุฃูุงูููุง ุจุบุถ ุงููุธุฑ ุนู ุงููุบุฉ

### 6.3 ุฏุนู ุงูุนุฑุจูุฉ ุงูุฃุตูู (Native Arabic Support)
- ุฏุนู ูุงูู ูุงุชุฌุงู RTL
- ุงูุชุนุงูู ูุน ุงููุตูุต ุงููุฎุชูุทุฉ:
  - `Bidirectional Text`
- ุฃู ุญูู ุฅุฏุฎุงู ูุนุงูู ุงูุนุฑุจูุฉ ูููุงุทู ูู ุงูุฏุฑุฌุฉ ุงูุฃููู

---

## 7. ุงูุฃูุงู ูุงูุฎุตูุตูุฉ (Security & Privacy)

| ุงููุงุนุฏุฉ | ุงูุชูุงุตูู |
|---------|----------|
| **ุงูุชุดููุฑ ุงูุงูุชุฑุงุถู** | ุฃู ููุงุชูุญ API ุชูุดูุฑ ููุง ุชูุฎุฒู ููุต ูุงุถุญ |
| **ุงูุญุฏ ุงูุฃุฏูู** | ุงูุชุทุจูู ูุทูุจ ููุท ุงูุตูุงุญูุงุช ุงูุชู ูุญุชุงุฌูุง |
| **Zero Trust** | ูุง ูุซู ุฃุจุฏุงู ุจูุฏุฎูุงุช ุงููุณุชุฎุฏู |
| **ูุง ููู Hardcoding** | ุงูููุงุชูุญ ูู `.env` ููุท |
| **ูููุงุช ุญุณุงุณุฉ** | `key.properties` ู `.env` ููููุน ุฑูุนูู ุนูู Git |

---

# โโโ ุงูุฃูุณุงู ุงููุชุบูุฑุฉ โโโ

> โ๏ธ ุงูุฃูุณุงู ุงูุชุงููุฉ ูููุฆุช ุจุชุงุฑูุฎ 2026-02-17.
> ุชูุนุฏูู ููุท ุจููุงููุฉ ุงููุทูุฑ.

---

## 8. ุจุทุงูุฉ ุงููุดุฑูุน (Project Card)

| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงุณู ุงููุดุฑูุน** | Datacodex (`datacodex.sa`) |
| **ุงูููุน** | Static Website / Knowledge Base (Personal Brand) |
| **ุงููุตู** | ููุณูุนุฉ ูุนุฑููุฉ ุชูููุฉ ูุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช (Data Recovery) ุชุนูู ุจูุธุงู "ุงูุจุฑุงูุฏ ุงููุญููู" (Portable Brand)ุ ูุจููุฉ ุนูู Astro v5 ูุชุณุชูุฏู ุงูุณูู ุงูุณุนูุฏู. |

### 8.1 ุงููุจุฏุฃ ุงูุญุงูู โ ุงูุจุฑุงูุฏ ุงููุญููู (Portable Brand)

> ุงููููุน ูุตูู ููููู ูุณุชููุงู ุนู ุฃู ููุงู ุฌุบุฑุงูู.
> ูู ุจูุงูุงุช ุงูููุงู ุงููุนูู ูุญุตูุฑุฉ ูู ููู ูุงุญุฏ (`location.ts`).
> ุนูุฏ ุงูุงูุชูุงู ููุฏููุฉ ุฃุฎุฑู: ุชุนุฏูู ููู ูุงุญุฏ โ ุงููููุน ุจุงููุงูู ูุชุญุฏูุซ.
> ุงููุญุชูู ุงููุนุฑููุ SEO Authorityุ ูุงูุจุฑุงูุฏ โ ูููุง ุฏุงุฆูุฉ ููุง ุชุชุฃุซุฑ.

### 8.2 ุงููููุฉ ุงููุบููุฉ

| ุงูุณูุงู | ุงูุงุณู ุงููุณุชุฎุฏู |
|--------|---------------|
| ุงูุดุนุงุฑ (Logo Main) | **Datacodex** |
| ุงูุดุนุงุฑ (Logo Subtitle) | **Datacodex** |
| ุฏุงุฎู ุงููุญุชูู ุงูุนุฑุจู | **Datacodex** ุฃู **Datacodex** |
| ุฏุงุฎู ุงููุญุชูู ุงูุฅูุฌููุฒู | **Datacodex** |
| ุงูู Footer | **Datacodex** |
| โ ููููุน ูุทููุงู | "Datacodex" (ุจุฏูู ุงุฎุชุตุงุฑ) |

---

## 9. ุงููุนูุงุฑูุฉ ูุงูุชูููุงุช (Architecture & Technology)

| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงููุนูุงุฑูุฉ** | Static Site Generation (SSG) with Hybrid Islands (Astro v5) |
| **ุงูุชูููุงุช ุงูุฃุณุงุณูุฉ** | Astro v5 + Tailwind CSS + Cloudflare Pages (Hosting/Edge) |
| **ุฅุฏุงุฑุฉ ุงููุญุชูู** | Custom Local HTML Tool โ ูุง CMSุ ูุง ูุงุนุฏุฉ ุจูุงูุงุช (see `08_Content_Tool_Spec`) |
| **ูุบุฉ ุงูุจุฑูุฌุฉ** | TypeScript (Strict Mode) + MDX ููููุงุช ุงููุญุชูู |
| **ุงูููุตุงุช ุงููุณุชูุฏูุฉ** | Web (Responsive โ Desktop & Mobile) |
| **ุงูุงุณุชุถุงูุฉ** | Cloudflare Pages (Free Commercial Tier) โ Edge Runtime (V8 Isolates) |
| **ูุธุงู ุงูุชูุฌูู** | `ar` = ุงููุณุงุฑ ุงูุงูุชุฑุงุถู (`/`) ุ `en` = ูุณุงุฑ ูุฑุนู (`/en/`) |

### 9.1 ูุจุฏุฃ Pre-render First

```
export const prerender = true;  // โ ูุฐุง ูู ุงูุงูุชุฑุงุถู ููู ุตูุญุฉ
```

- ูู ุงูุตูุญุงุช ุชูุจูู ูู Static HTML ููุช ุงูุจูุงุก (Build Time).
- ูุง ููุฌุฏ SSR ุฅูุง ูู ูุงู ููุงู API route ูุชุทูุจ ุฐูู (ุญุงูุฉ ูุงุฏุฑุฉ ุฌุฏุงู ูู ูุฐุง ุงููุดุฑูุน).
- `output: 'static'` ูู `astro.config.mjs` ูู ุงููุถุน ุงููุนุชูุฏ (Astro v5 ุฃูุบู `output: 'hybrid'` ูุฎูุงุฑ ูููุตู).
- ุงูุชุญูู ูู ุงูุงุณุชุซูุงุกุงุช ุฃุตุจุญ **per-page** ุนุจุฑ `export const prerender = true/false` (ูุงูุงูุชุฑุงุถู `true`).
- โ ููููุน ุงุณุชุฎุฏุงู `output: 'hybrid'` ูู ุฃู ุฅุนุฏุงุฏุงุช ุฏุงุฎู ูุฐุง ุงููุดุฑูุน.

### 9.1.0.1 ููุฏ `getStaticPaths` โ Params as Strings (Astro v5)

> **ูู Astro v5:** ูู ููู `params` ุฏุงุฎู `getStaticPaths` ูุฌุจ ุฃู ุชููู **strings ููุท**.
> ุงุณุชุฎุฏุงู ุฃุฑูุงู (ูุซู `id: 123`) ูุงู ูุนูู ูู v4 ูููู ูุนุทู error ูู v5.

```typescript
// โ WRONG (v4 style - will fail in v5)
params: { id: 123 }

// โ CORRECT (v5 - strings only)
params: { id: '123' }
```

**ุงูุชุฃุซูุฑ ุนูู ูุฐุง ุงููุดุฑูุน:** ููุฎูุถ โ ุงูู MDX slugs ูู strings ุฃุตูุงู. ููู ูู ูู ุฃู Content Collection ุจุชุณุชุฎุฏู ุฃุฑูุงู ูู IDs โ ุญููููุง ูู strings.

### 9.1.1 ููุฏ Sharp / V8 Isolates (Cloudflare Edge Runtime)

> **ุงูุฎุทุฑ:** ูุนุงูุฌุฉ ุงูุตูุฑ ูู Astro (`astro:assets` ู `<Image />`) ุชุนุชูุฏ ุนูู `Sharp` (Native Module).
> ุจูุฆุฉ Cloudflare Edge Runtime (`V8 Isolates`) ูุง ุชุฏุนู Native Modules ููุช ุงูุชุดุบููุ ูุฃู ุงูุชูุงู ุบูุฑ ูุญุณูุจ ุฅูู SSR ูุฏ ูุนุทูู ูุนุงูุฌุฉ ุงูุตูุฑ ุฃู ูุบูุฑ ุณููููุง.

**ุงูููุงุนุฏ ุงูููุฒูุฉ:**
- โ ุตูุฑ ุงููุญุชูู ุชูุนุงูุฌ **Build-time ููุท** ุนุจุฑ Pre-render (SSG).
- โ ุฃู ุตูุญุฉ ุชุณุชุฎุฏู `<Image />` ุฃู `astro:assets` **ูุฌุจ** ุฃู ุชููู `prerender = true`.
- โ ุฅุนุฏุงุฏ `imageService` ูู Cloudflare Adapter ูุฌุจ ุฃู ูููู `'compile'` (ุงูุงูุชุฑุงุถู ูู `@astrojs/cloudflare` v12+ โ ุงูุชุจู ุตุฑุงุญุฉ ูู safety net).
- โ ููููุน ุชุญููู ุฃู ุตูุญุฉ ูุญุชูู/ูุงุฌูุฉ ุฅูู `prerender = false` ุจุฏูู **Audit ูุนูุงุฑู + ููุงููุฉ ุงููุทูุฑ**.
- โ ููููุน ุฅุฏุฎุงู Image Service runtime endpoint (ูุซู `/_image`) ุฃู ุฃู proxy runtime ููุตูุฑ ุนูู Cloudflare ุจุฏูู ูุฑุงุฌุนุฉ ุฃูููุฉ ููุซูุฉ.

**ุฅุนุฏุงุฏ Adapter ุงููุนุชูุฏ:**
```javascript
// astro.config.mjs
import cloudflare from '@astrojs/cloudflare';

export default defineConfig({
  adapter: cloudflare({
    imageService: 'compile',  // Build-time image processing (safety net)
  }),
});
```

**ุณุจุจ ุงููุงุนุฏุฉ:** ุถูุงู ุฃู ุฎุท ูุนุงูุฌุฉ ุงูุตูุฑ ูุธู ุซุงุจุชุงู (Build-time) ููุง ูุชุฃุซุฑ ุจูููุฏ `V8 Isolates`.

### 9.1.2 ุชุซุจูุช Node.js 22 ูู Cloudflare Pages (Build Environment)

> **ุงููุงุนุฏุฉ:** ุงูุจูุงุก (Build) ูุฌุจ ุฃู ูููู ูุงุจูุงู ูุฅุนุงุฏุฉ ุงูุฅูุชุงุฌ (Reproducible).

**ุงูุชูููุฐ ุงููุนุชูุฏ (ุฃุญุฏููุง ุฃู ููุงููุง):**
- ุฅุถุงูุฉ ููู `.node-version` ุจูููุฉ:
  ```
  22
  ```
- ุฃู ุถุจุท ูุชุบูุฑ ุงูุจูุฆุฉ ูู ุฅุนุฏุงุฏุงุช Cloudflare Pages:
  - `NODE_VERSION=22`

**ุงููุฏู:** ุชุซุจูุช ุจูุฆุฉ ุงูุจูุงุก ูุชูุงุฏู ุชุบููุฑ ุงููุชุงุฆุฌ ุจูู ุชุญุฏูุซุงุช Cloudflare Pages Build Image.

### 9.1.3 ููุฏ Tailwind CSS v4 + AI Hallucination Guardrails

> **ุงูููุงุญุธุฉ:** Tailwind CSS v4 ูุนุชูุฏ CSS-first configuration (`@theme`, `@plugin`)ุ ุจูููุง ุฃุบูุจ ููุงุฐุฌ AI ูุฏ ุชูููุฏ ุจุงูุฎุทุฃ ุฃููุงุท v3 (ูุซู `tailwind.config.js`).

**ุงูููุงุนุฏ ุงูููุฒูุฉ:**
- โ ููููุน ุฅูุดุงุก ุฃู ุงุณุชุฎุฏุงู `tailwind.config.js` ุฃู ุฃู JavaScript config ูุญู ุงูุชุฑุงุถู.
- โ ุชูุนูู ุงูุฅุถุงูุงุช ูุชู ุฏุงุฎู CSS ุนุจุฑ `@plugin` ููุท (ุงูุธุฑ 10.1).
- โ ูุฌุจ ุชูููุฑ Guardrails ูุชูููุฏ ุงูููุฏ:
  - Claude Skill ุฃู `MCP Server` ุฃู ููุงุนุฏ `cursorrules` ุฏุงุฎู ุงูุฑูุจู
  - Checklist ูุฑุงุฌุนุฉ: ุฃู PR ูุญุชูู Tailwind code ูุฌุจ ุฃู ููุฑุงุฌุน ุถุฏ โv4 syntaxโ.

**ุงููุฏู:** ุชูููู ุงุญุชูุงููุฉ ุฅูุชุงุฌ ููุฏ ุบูุฑ ูุชูุงูู (v3/v4 mix) ุฃุซูุงุก ุงูุชุทููุฑ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู.

### 9.1.4 ููุงุนุฏ Cloudflare Dashboard (ุฅูุฒุงููุฉ)

> **ุงูุฎุทุฑ:** Cloudflare ุจูุญุงูู ูุนูู minify ููู HTML/CSS/JS **ุจุนุฏ** ูุง Astro ูุจุนุชู โ ูุฏู ูููู ููุณุฑ hydration ูู Astro Islands.

**ุงูููุงุนุฏ ุงูููุฒูุฉ:**
- โ **ุฃููู Auto Minify ููุฑุงู** ูู Cloudflare Dashboard:
  - `Settings โ Speed โ Optimization โ Content Optimization`
  - ุฃููู Auto Minify ูู **HTML** ู **CSS** ู **JS**
- โ ุณูุจ Astro ูุนูู ุงูู minification ุจููุณู ููุช ุงูู Build.
- โ Cloudflare Rocket Loader โ ุฃูููู ููุงู (ูุชุนุงุฑุถ ูุน Astro Islands script loading).

**ุณุจุจ ุงููุงุนุฏุฉ:** Cloudflare Auto Minify ุจูุดูู whitespace ููููู ูุบููุฑ ุชุฑุชูุจ attributes โ ูุฏู ุจููุณุฑ ุงูู Island hydration markers ุงููู Astro ุจูุญุทูุง ูู ุงูู HTML.

### 9.2 ูุจุฏุฃ Content Collections (Astro v5 Content Layer API)

- ูู ุงููุญุชูู (ููุงูุงุชุ ุฎุฏูุงุชุ ูุตุต ูุฌุงุญ) ููุฏุงุฑ ุนุจุฑ Astro Content Collections.
- ุงูู Schema ููุนุฑูู ุจู Zod ูู `src/content/config.ts`.
- ูุง ูููุจู ุฃู ูุญุชูู ูุง ูุทุงุจู ุงูู Schema โ ุงูุจูุงุก ููุดู ุนูุฏุงู.

#### 9.2.1 ุชุญุฐูุฑุงุช v5 Content Layer API (Breaking Changes)

> **ุฎุทุฑ AI Hallucination:** ุงูู Content Collections API ุงุชุบูุฑุช ุจุดูู ูุจูุฑ ูู Astro v5.
> ุงูู AI ูููู ููููุฏ ููุฏ v4 syntax ุงููู ูููู ููุดู ุจุฃุฎุทุงุก ุบุงูุถุฉ.

**ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:**

| ุงูููุถูุน | v4 (ูุฏูู) | v5 (ูุนุชูุฏ) |
|---------|---------|----------|
| ุชุนุฑูู Collections | `defineCollection()` ูุจุงุดุฑ | Content Layer API ูุน loaders |
| ุงุณุชุฏุนุงุก ุงููุญุชูู | `getCollection()` + `getEntryBySlug()` | `getCollection()` + `getEntry()` โ return type ูุฎุชูู |
| Render | `entry.render()` | `render(entry)` โ function import |
| slug access | `entry.slug` | `entry.id` ุฃู `entry.slug` ุญุณุจ ุงูู loader |

**ุงูููุงุนุฏ ุงูููุฒูุฉ:**
- โ **ุฃูู collection definition** ูููุชุจ ูุฏููุงู (ูุด ุจุงูู AI) ููุฑุฌุน ูุจูู ุนููู ุงููููู.
- โ ุฃู PR ูุญุชูู `getCollection` ุฃู `render` ููุฑุงุฌุน ุถุฏ v5 syntax.
- โ ููููุน ุงุณุชุฎุฏุงู `getEntryBySlug()` โ ุงุชุดุงูุช ูู v5.
- โ ููููุน ุงุณุชุฎุฏุงู `entry.render()` โ ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ูู `render(entry)` (function import).

### 9.3 ูุงุนุฏุฉ ุงููููุงุช ุงููุฏููุฉ (No-AI-First-Draft Rule)

> **ุงููููุงุช ุงูุชุงููุฉ ูุฌุจ ุฃู ููุชุจูุง ุงููุทูุฑ ุฃู ุงููุดุฑู ูุฏููุงู ูุฃูู ูุณูุฏุฉ.**
> ุงููููู (AI) ููููุน ูู ูุชุงุจุฉ ุฃูู ูุณุฎุฉ ูููุง ูุฃู ุงุญุชูุงููุฉ ุงููููุณุฉ ูููุง ุนุงููุฉ.

| ุงูููู | ุณุจุจ ุงูููุน |
|-------|----------|
| `astro.config.mjs` | ุชุบููุฑุงุช Astro v5 (ุฅูุบุงุก hybrid, ุชุบููุฑ Content API) โ ุงูู AI ูููู ููููุฏ ุฅุนุฏุงุฏุงุช v4 |
| `src/content/config.ts` | Content Layer API ุงูุฌุฏูุฏุฉ โ ุงูู AI ูููู ููุชุจ v4 syntax |
| `AGENTS.md` / ูููุงุช ุงูุชูุฌูู | ูู ุงููู ุจุชูุฌู ุงูู AI โ ูููููุนุด ุงูู AI ููุชุจูุง ูููุณู |

**ุจุนุฏ ูุชุงุจุฉ ุฃูู ูุณุฎุฉ ูุฏููุงู โ ุงููููู ูุณููุญ ูู ุจุงูุชุนุฏูู ุชุญุช ุฅุดุฑุงู ุงููุดุฑู.**

---

## 10. ุงูููุชุจุงุช ุงููุนุชูุฏุฉ (Approved Libraries)

> โ๏ธ **ููุท** ุงูููุชุจุงุช ุงููุฏุฑุฌุฉ ููุง ูุณููุญ ุงุณุชุฎุฏุงููุง.
> ุฅุถุงูุฉ ููุชุจุฉ ุฌุฏูุฏุฉ ุชุชุทูุจ ููุงููุฉ ุงููุทูุฑ.

### 10.1 ุงูููุชุจุงุช ุงููุนุชูุฏุฉ

| ุงูููุชุจุฉ | ุงูุฅุตุฏุงุฑ | ุงูุบุฑุถ |
|---------|---------|-------|
| `astro` | Latest v5 | Core Framework โ Static Site Generation with Islands Architecture |
| `tailwindcss` | v4 | Styling โ Utility-first CSS framework |
| `@tailwindcss/typography` | Latest | Prose styling for Arabic/English article content โ Tailwind v4 activation via `@plugin "@tailwindcss/typography";` |
| `@astrojs/cloudflare` | Latest | Adapter โ Edge deployment to Cloudflare Pages |
| `@iconify-json/*` | Latest | Icon sets as JSON (install only the collections you use) โ avoids heavy barrel imports |
| `@iconify/utils` | Latest | Build-time conversion of Iconify JSON to optimized inline SVGs |
| `@fontsource/tajawal` | Latest | Primary Arabic Font (self-hosted, no external requests) |
| `@fontsource-variable/inter` | Latest | Primary English Font (self-hosted, variable weight) |
| `preact` + `@astrojs/preact` | Latest | **Fallback ููุท** โ ูุง ููุซุจูุช ุฅูุง ุฅุฐุง ุชุฌุงูุฒ ููุฏ Vanilla JS ูู ูููู ูุงุญุฏ 200 ุณุทุฑุ ุฃู ุงุญุชุงุฌ ุงููููู State Management ูุนูุฏ. ูุชุทูุจ ููุงููุฉ ุงููุทูุฑ ูุจู ุงูุชุซุจูุช. |

### 10.2 ุงูููุชุจุงุช ุงูููููุนุฉ (Forbidden)

| ุงูููุชุจุฉ | ุณุจุจ ุงูููุน |
|---------|----------|
| `React` / `@astrojs/react` | ููููุน ุฅูุง ูู ูุงู ููุงู Island ุชูุงุนูู ูุนูุฏ ูุง ูููู ุชูููุฐู ุจู Vanilla JS. ูุชุทูุจ ููุงููุฉ ุงููุทูุฑ ุงูุตุฑูุญุฉ. |
| `Bootstrap` | ูุชุนุงุฑุถ ูุน Tailwind CSS ููุถูู CSS ุบูุฑ ุถุฑูุฑู. |
| `jQuery` | ูุง ุญุงุฌุฉ ูู ูู ูุดุฑูุน Static ุญุฏูุซ. |
| `Keystatic` | ุชู ุฅูุบุงุคู ุฑุณููุงู โ ูุณุฌู ูู Risk Assessment (ููู 02). ุงุณุชูุจุฏู ุจุฃุฏุงุฉ ูุญููุฉ. |
| ุฃู ORM / Database Client | ุงููููุน Static ุจุงููุงูู โ ูุง ูุงุนุฏุฉ ุจูุงูุงุช. |

### 10.3 ููุชุจุงุช ูุณุชุจุนุฏุฉ/ูุญุฐููุฉ (Removed / Not Used)

> ูุฐู ููุณุช "ููููุนุฉ ุฃูููุงู"ุ ููููุง **ุบูุฑ ูุนุชูุฏุฉ** ูู ูุฐุง ุงููุดุฑูุน ูุฃููุง ููุฑุฑุฉ ุฃู ุชุฒูุฏ ุงูุชุนููุฏ ุจูุง ุนุงุฆุฏ.
> ูุง ูุฌูุฒ ุฅุนุงุฏุฉ ุฅุฏุฎุงููุง ุฅูุง ุจููุงููุฉ ุงููุทูุฑ.

| ุงูููุชุจุฉ | ุงูุญุงูุฉ | ุงูุณุจุจ | ุงูุจุฏูู |
|---------|--------|-------|--------|
| `astro-seo` | Removed | Meta Tags ุชูุฏุงุฑ ูุฏููุงู ุฏุงุฎู `BaseLayout.astro` โ ูุฌูุฏูุง ููุฑุฑ ุงูููุทู ููุฒูุฏ ูุณุงุญุฉ ุงูุฎุทุฃ | ุฅุฏุงุฑุฉ Meta Tags ุฏุงุฎู Layout + ููููุงุช SEO ูุญููุฉ ุจุณูุทุฉ |
| `astro-icon` | Replaced | ุชู ุงุณุชุจุฏุงููุง ูุชูููู ูุฎุงุทุฑ barrel imports ูุชุญุณูู ุณููู Vite ุนูุฏ ุชุถุฎู ุฃููููุงุช SVG | `@iconify-json/*` + `@iconify/utils` (Build-time SVG) โ **ููุงุญุธุฉ:** ูุชุทูุจ ูุชุงุจุฉ ูููู `Icon.astro` ูุฎุตุต ููุฑุฃ ุงูู icon data ูู `@iconify-json` ููุญููููุง ูู inline SVG ุจุงุณุชุฎุฏุงู `@iconify/utils`. |

---

## 11. ุงููููุงุช ุงูุญุฑุฌุฉ (Critical Files)

> โ๏ธ ุงููููุงุช ุงูุชุงููุฉ ููููุน ุชุนุฏูููุง ุจุฏูู ููู ูุงูู ูููุงููุฉ ุงููุทูุฑ.
> ุฃู ุชุนุฏูู ุฎุงุทุฆ ูููุง ูููู ุฃู ููุณุฑ ุงููููุน ุจุงููุงูู ุฃู ูููุฏ ุงููููุฉ ุงูุชุฌุงุฑูุฉ.

| ุงูููู | ุงูุฃูููุฉ | ุงูุณุจุจ |
|-------|---------|-------|
| `src/config/location.ts` | ๐ด **ุงูุฃุนูู ุญุฑุฌุงู** | ุงูููู ุงูุฐุฑู ููุจุฑุงูุฏ ุงููุญููู. ูุญุชูู ุนูู ูู ุจูุงูุงุช ุงูููุงู ุงููุนูู (ุงูุนููุงูุ ุงููุงุชูุ ุงูุฅุญุฏุงุซูุงุชุ ุงูุฎุฑูุทุฉุ ูุตูุต GentleNote). ุชุบููุฑ ูุฐุง ุงูููู ููุญุฏูุซ ุงูููุงู ูู **ูู** ุตูุญุงุช ุงููููุน ุชููุงุฆูุงู. ุชุนุฏูู ุฎุงุทุฆ = ุจูุงูุงุช ุชูุงุตู ุฎุงุทุฆุฉ ููุนููุงุก. |
| `src/components/content/GentleNote.astro` | ๐ด ุญุฑุฌ | ูููู ุงูุชุญููู ุงูุฃุณุงุณู. ูุญู ูุญู CTA ุงูุชูููุฏู ุจูุจุฑุฉ ูุนุฑููุฉ. ููุฑุฃ ูู `location.ts` ููู frontmatter ุงูููุงู. ุฃู ุชุนุฏูู ูุคุซุฑ ุนูู ููู ูุชูุงุตู ุงูุฒูุงุฑ. |
| `src/content/config.ts` | ๐ก ุญุฑุฌ | ููุนุฑูู ุงูู Zod Schema ููู Content Collections (Posts, Services, Cases). ุฃู ุชุบููุฑ ููู ูุคุซุฑ ุนูู ูู ูููุงุช ุงููุญุชูู ููููู ุฃู ูููุน ุงูุจูุงุก. |
| `08_Content_Tool_Spec.html` | ๐ก ุญุฑุฌ | ุงูุฃุฏุงุฉ ุงูุฎุงุฑุฌูุฉ ุงููุณุชุฎุฏูุฉ ูุชูููุฏ ูููุงุช MDX ูู ูุฎุฑุฌุงุช NotebookLM. ูุฌุจ ุงูุญูุงุธ ุนูููุง ููุง ูู โ ููุฏุงููุง ูุนูู ุงูุนูุฏุฉ ููุชุงุจุฉ MDX ูุฏููุงู. |
| `astro.config.mjs` | ๐ก ุญุฑุฌ | ุชูููู ุงููุดุฑูุน ุงูุฃุณุงุณู โ ุงูู i18nุ ุงูู sitemapุ ุงูู adapter. |
| `master-constitution.md` | ๐ด **ูุง ููุนุฏูู ุฅูุง ุจููุงููุฉ ุงููุทูุฑ** | ูุฐุง ุงูููู โ ุงูุฏุณุชูุฑ ุงูุญุงูู. |

---

## 12. ุงูุชุบููุฑุงุช ุงูููููุนุฉ (Forbidden Changes)

> ๐ซ ุงูุชุบููุฑุงุช ุงูุชุงููุฉ ููููุนุฉ ุจุดูู ูุทูู. ูุฎุงููุชูุง ุชุนูู ุฑูุถ ุงูููุฏ ููุฑุงู.

| ุงูุชุบููุฑ ุงูููููุน | ุงูุณุจุจ | ุงูุจุฏูู ุงูุตุญูุญ |
|----------------|-------|--------------|
| **ูุชุงุจุฉ ุฃุณูุงุก ุฃูุงูู ูู ุงููุญุชูู** โ ูุชุงุจุฉ "ุฌุฏุฉ"ุ "ูุฑูุฒ ุงููุงุฑุณ"ุ "ุญู ุงูุดุฑููุฉ"ุ ุฃู ุฃู ุงุณู ุดุงุฑุน ูุญุฏุฏ ูู ูููุงุช `.mdx` ุฃู ููููุงุช `.astro` | ููุณุฑ ูุจุฏุฃ ุงูุจุฑุงูุฏ ุงููุญููู. ุนูุฏ ุงูุงูุชูุงู ููุฏููุฉ ุฃุฎุฑูุ ูู ูุฐู ุงูุฅุดุงุฑุงุช ุชุตุจุญ ุฎุงุทุฆุฉ. | **ุฏุงุฆูุงู** ุงูุฑุฃ ูู `location.ts`. ูููู `GentleNote` ูุชููู ุญูู ุงูููุงู ุชููุงุฆูุงู. |
| **ุงุณุชุฎุฏุงู ูุบุฉ ุจูุนูุฉ ูู ุงูููุงูุงุช** โ ุนุจุงุฑุงุช ูุซู "ุงุชุตู ุงูุขู"ุ "ุฃูุถู ุณุนุฑ"ุ "ูุญุต ูุฌุงูู"ุ "ุนุฑุถ ูุญุฏูุฏ" ูู ุงูููุงูุงุช (Posts) ุฃู ูุตุต ุงููุฌุงุญ (Cases) | ุงููููุน **ููุณูุนุฉ ูุนุฑููุฉ** ูููุณ ูุชุฌุฑุงู. ุงููุบุฉ ุงูุจูุนูุฉ ุชููู ุงูุซูุฉ ูุชุฎุงูู ูููุฉ ุงูุจุฑุงูุฏ. | ุงููุบุฉ ุงูุชุฌุงุฑูุฉ ูุณููุญุฉ **ููุท** ูู ุตูุญุชู `/contact/` ู `/jeddah/`. ุงูููุงูุงุช ุชุณุชุฎุฏู ูุจุฑุฉ ูุนุฑููุฉ + `GentleNote` ููุชุญููู ุงููุงุฏุฆ. |
| **ุงุณุชุฎุฏุงู ุตูุฑ ุดุฎุตูุฉ** โ ุฑูุน ุฃู ุนุฑุถ ุตูุฑ ุญููููุฉ ูุตุงุญุจ ุงููุดุฑูุน ุฃู ุงูุนููุงุก | ุณูุงุณุฉ ุงูุฎุตูุตูุฉ + ุงุชุณุงู ุงูุจุฑุงูุฏ. ุงูุดุฎุตูุฉ ุฑูููุฉ ุจุงููุงูู. | ุงุณุชุฎุฏุงู ุตูุฑ AI-generated (mascotุ ุฃุฌูุฒุฉุ ุฑุณูู ุชูุถูุญูุฉ) ุฃู ุตูุฑ ูุนุฏุงุช ุญููููุฉ (PC-3000ุ Clean Room). |
| **ุฅุถุงูุฉ ูุงุนุฏุฉ ุจูุงูุงุช** โ ุฅุถุงูุฉ SQLุ NoSQLุ ุฃู ุฃู Backend database | ุงููููุน ูุฌุจ ุฃู ูุจูู Static/Edge ุจุงููุงูู. ูุงุนุฏุฉ ุจูุงูุงุช ุชูุณุฑ ูููุฐุฌ ุงูุงุณุชุถุงูุฉ ุงููุฌุงููุฉ ูุชุถูู ุชุนููุฏุงู ูุง ูุญุชุงุฌู ูุดุบูู ูุฑุฏู. | ุงููุญุชูู ูู ูููุงุช `.mdx` (Content Collections). ุงูุจูุงูุงุช ุงูุฏููุงููููุฉ ูู `location.ts` ุฃู `localStorage`. |
| **ุญุฐู ุงูููู ุงูุชูุฃู** โ ูุดุฑ ููู `.mdx` ุนุฑุจู ุจุฏูู ูุธูุฑู ุงูุฅูุฌููุฒู ุฃู ุงูุนูุณ | ููุณุฑ ุงูู Hreflang ููุณุจุจ ูุดุงูู SEO. ุณูุฑูุจุช `validate-translations.ts` ูููุน ุงูุจูุงุก. | ูู ููู ุนุฑุจู ูุฌุจ ุฃู ูููู ูู ููู ุฅูุฌููุฒู ุจููุณ ุงูู `slug` ู `translationID`. |
| **ูุชุงุจุฉ "Datacodex"** โ ุงุณุชุฎุฏุงู ุงูุงุณู ุงูุนุฑุจู ุจุฏูู ุงุฎุชุตุงุฑ | ูุฎุงูู ููููุฉ ุงูุจุฑุงูุฏ ุงููุนุชูุฏุฉ. | ุฏุงุฆูุงู **"Datacodex"** (ุจุงูุงุฎุชุตุงุฑ). |

---

## 13. ููุงุนุฏ ุฎุงุตุฉ ุจุงููุดุฑูุน (Project-Specific Rules)

> ููุงุนุฏ ุฅุถุงููุฉ ุฎุงุตุฉ ุจูุดุฑูุน Datacodex ููุท.
> ูุฐู ุงูููุงุนุฏ ููุง ููุณ ููุฉ ุงูุฃูุณุงู ุงูุซุงุจุชุฉ โ ูุง ูุฌูุฒ ูุฎุงููุชูุง.

---

### ุงููุงุนุฏุฉ 1 โ ุงุณุชุฑุงุชูุฌูุฉ ุงูููู ุงูุชูุฃู (Twin-File Strategy)

```
src/content/posts/ar/clicking-drive-solution.mdx   โ ุงูููู ุงูุนุฑุจู
src/content/posts/en/clicking-drive-solution.mdx   โ ุงูููู ุงูุฅูุฌููุฒู (ุงูุชูุฃู)
```

- ูู ููู `.mdx` ุนุฑุจู **ูุฌุจ** ุฃู ูููู ูู ููู ุฅูุฌููุฒู ูุทุงุจู.
- ุงููููุงู ูุชุดุงุฑูุงู **ููุณ ุงูู `slug`** (ุฅูุฌููุฒู ุฏุงุฆูุงู) ู **ููุณ ุงูู `translationID`**.
- ุงููููุงู ูุดูุฑุงู ุฅูู **ููุณ ุงูู `heroImage`**.
- ุงููุญุชูู ุงูุฅูุฌููุฒู **ููุณ ุชุฑุฌูุฉ ุญุฑููุฉ** โ ูู ููุงู ูุณุชูู ุจุฃุณููุจ ุฅูุฌููุฒู (Cultural Adaptation).
- ุณูุฑูุจุช `scripts/validate-translations.ts` ููุญุต ุงูุชูุงูุค ููููุน ุงูุจูุงุก ูู ููุฌุฏ ููู ูุชูู.

---

### ุงููุงุนุฏุฉ 2 โ ูุงุฌูุฉ ูุงุฏุฆุฉ ูููุซููุฉ (No "Panic" UI)

> ุงููููุน ูุฌุจ ุฃู ูุจุซ ุงูุทูุฃูููุฉ ูุงูุณูุทุฉ ุงููุนุฑููุฉ โ ููุณ ุงููุฒุน.

| โ ูุณููุญ | โ ููููุน |
|---------|---------|
| ูุจุฑุฉ ูุงุฏุฆุฉ ููุทูุฆูุฉ (Medical/Engineering feel) | ุชูุจููุงุช ุญูุฑุงุก ุตุงุฑุฎุฉ ูู ุงููุงุฌูุฉ ุงูุนุงูุฉ |
| `GentleNote` ุจุฎูููุฉ ุฑูุงุฏูุฉ ูุงุชุญุฉ ูุฃููููุฉ ๐ก | ุฃุฒุฑุงุฑ ูุงูุถุฉ (Pulse) ุฃู ุฃููุงู ุฌุฐุงุจุฉ |
| `WarningBox` ุฏุงุฎู ุงูููุงูุงุช **ุงูุญุฑุฌุฉ ููุท** (`difficulty: critical`) | `WarningBox` ูู ูู ุงูููุงูุงุช ุจุฏูู ุชูููุฒ |
| `FloatingWhatsApp` ุตุบูุฑ (40px) ุจุดูุงููุฉ 70% | ุฒุฑ ูุงุชุณุงุจ ุนููุงู ูุน ูุต ูุฃููููุดู |

**ุงูุงุณุชุซูุงุก ุงููุญูุฏ:** ูููู `PanicButton` (ุดุฑูุท ุงูุทูุงุฑุฆ) ูุธูุฑ ูุดุฑูุท ุฃุฎุถุฑ **ุฏุงุฎู** ุงูููุงูุงุช ุงูุญุฑุฌุฉ ููุท โ ููู ูุฎุชูู ุชูุงูุงู ุนู ุงูู UI ุงูุนุงู ูููููุน.

---

### ุงููุงุนุฏุฉ 3 โ Pre-render ุฃููุงู (Pre-render First)

```typescript
// โ ุงูุงูุชุฑุงุถู ููู ุตูุญุฉ โ ูุง ุชูุชุจูุง ุญุชู (Astro default in static mode)
export const prerender = true;

// โ ุงุณุชุซูุงุก ูุงุฏุฑ โ ูุชุทูุจ ุชุจุฑูุฑ ูููุงููุฉ
export const prerender = false;  // ููุท ูู API routes ุฅู ููุฌุฏุช
```

- ูู ุตูุญุฉ ูู HTML ุซุงุจุช ููุจูู ููุช ุงูุจูุงุก ููููุฏู ูู CDN.
- ูุง Server-Side Rendering ุฅูุง ูุญุงูุงุช ูุญุฏุฏุฉ ุฌุฏุงู (ูุซูุงู: Cloudflare Worker ููุดุฑ ุงููุญุชูู ุนุจุฑ GitHub API โ ูุฑุญูุฉ ูุณุชูุจููุฉ).
- ุงููุฏู: TTFB < 20ms ูู ุนูุฏ Cloudflare ูู ุงูุณุนูุฏูุฉ.

---

### ุงููุงุนุฏุฉ 4 โ ุฎุตุงุฆุต ููุทููุฉ (Logical Properties for RTL/LTR)

> **ูุง ุชูุชุจ `left` ุฃู `right` ุฃุจุฏุงู.** ุงุณุชุฎุฏู ุงูุฎุตุงุฆุต ุงูููุทููุฉ ููุท.

| โ ููููุน | โ ุตุญูุญ | ุงูุณุจุจ |
|---------|---------|-------|
| `ml-4` | `ms-4` | `margin-start` ูุนูู ูู RTL ู LTR |
| `pr-6` | `pe-6` | `padding-end` ูุนูู ูู RTL ู LTR |
| `border-l-4` | `border-s-4` | `border-start` ูุชููู ุชููุงุฆูุงู |
| `text-left` | `text-start` | ูุชููู ูุน ุงุชุฌุงู ุงููุบุฉ |
| `left-0` | `start-0` | ุงูููุถุน ุงูููุทูู |
| `float-right` | `float-end` | ุงูุทูู ุงูููุทูู |

**ุงููุจุฏุฃ:** ููู CSS ูุงุญุฏ ูุฎุฏู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ุจุฏูู ุฃู `[dir="rtl"]` overrides.

---

### ุงููุงุนุฏุฉ 5 โ ุณูุงุณุฉ ุงูุตูุฑ (Image Pipeline Policy)

> ูู ุงูุตูุฑ ุชุนูุด ูู `src/assets/images/` โ ูููุณ `public/`.

```
src/assets/images/
โโโ posts/          โ ุตูุฑ ุงูููุงูุงุช (1200ร630)
โโโ services/       โ ุตูุฑ ุงูุฎุฏูุงุช
โโโ cases/          โ ุตูุฑ ูุตุต ุงููุฌุงุญ
โโโ ui/             โ ุตูุฑ ุงููุงุฌูุฉ โ Hero Cards, Equipment (AI-generated)

public/images/
โโโ brand/          โ ุงูุดุนุงุฑ ู OG image ููุท (ูุง ุชุญุชุงุฌ build-time processing)
```

| ุงููุงุนุฏุฉ | ุงูุชูุงุตูู |
|---------|----------|
| **ูุณุงุฑ ุงูุตูุฑ** | `src/assets/images/` ููู ุตูุฑ ุงููุญุชูู โ ููุฑ ุจู Astro Image Optimization |
| **ุงูุงุณุชุซูุงุก** | `public/images/brand/` ููุดุนุงุฑ ู OG image ููุท |
| **ุงูุตูุบุฉ** | `.webp` ููุถูุฉ โ ุญุฏ ุฃูุตู 200KB ุจุนุฏ ุงูุชุญุณูู |
| **ุงูุฃุจุนุงุฏ** | Hero: 1200ร630 / Cards: 400ร400 / Equipment: 800ร500 |
| **ุงูููุน** | โ ูุง ุชุถุน ุตูุฑ ูุญุชูู ูู `public/` โ ุชููุฏ ุงูุชุญุณูู |
| **ูู MDX** | ุงููุณุงุฑ ุงููุณุจู: `../../assets/images/posts/{slug}.webp` |

---

### ุงููุงุนุฏุฉ 6 โ ุชูุฌุฆุฉ ุงูุจุฑุงูุฏ ุจุงูุนุฑุจู (Arabic Brand Spelling)

> **ุงููุงุนุฏุฉ ุบูุฑ ูุงุจูุฉ ููููุงุด:**

```
โ  Datacodex
โ  Datacodex
```

- ุงูุงุฎุชุตุงุฑ **"ุฏ."** (ููุทุฉ ุจุนุฏ ุงูุฏุงู) ูู ุงููุนุชูุฏ ูู ูู ุงูุณูุงูุงุช ุงูุนุฑุจูุฉ.
- ููุทุจู ุนูู: ุงูุดุนุงุฑ ุงููุฑุนูุ ุงูู Footerุ ุงููุญุชูู ุงูุนุฑุจูุ ูุตู ุงูู Schemaุ ุจูุงูุงุช ุงูู OG.
- ุงูุงุณู ุงูุฅูุฌููุฒู ูุจูู **"Datacodex"** ุจุฏูู ุชุบููุฑ.

---

### ุงููุงุนุฏุฉ 7 โ ุงููููุฏ ุงููุนูุงุฑูุฉ ุงูุญุฑุฌุฉ (Image Processing vs Edge Runtime)

> **ูุฐู ุงููุงุนุฏุฉ โุญูุฑุงุกโ ูุฃููุง ูุฏ ุชูุณุฑ ุงููููุน ุจุงููุงูู ุจุตูุช** ุฅุฐุง ุชู ุฎุฑููุง.

**ุงููุทุงู:** ุฃู ุดูุก ูุฎุต ุงูุตูุฑ: `astro:assets`, `<Image />`, ูููู `astro.config.mjs` ุนูู Cloudflare Pages.

**ุงูููุงุนุฏ ุงูููุฒูุฉ:**
1. โ **Pre-render First** ูู ุงููุถุน ุงููุญูุฏ ูุตูุญุงุช ุงููุญุชูู ูุงููุงุฌูุฉ.
2. โ ุฃู ุตูุญุฉ ุชุณุชุฎุฏู `<Image />` ูุฌุจ ุฃู ุชููู `export const prerender = true`.
3. โ ููููุน ุชูุนูู SSR (`prerender = false`) ูุตูุญุงุช ุงูููุงูุงุช/ุงูุฎุฏูุงุช/ุงููุงุฌูุฉ.
4. โ ููููุน ุฅุฏุฎุงู Image runtime service ุฃู endpoint (ูุซู `/_image`) ุนูู Cloudflare ุจุฏูู:
   - ุชูุฑูุฑ Audit ูุนูุงุฑู ุฏุงุฎู `docs/audits/`
   - ุชุญุฏูุซ `changelog.md`
   - ููุงููุฉ ุงููุทูุฑ ุงูุตุฑูุญุฉ

**ุงุฎุชุจุงุฑ ูุจูู (Acceptance Check):**
- ุฃู PR ูุบูุฑ `astro.config.mjs` ุฃู ูุถูู `prerender = false` ูุฌุจ ุฃู ููุฑ ุจูุฑุงุฌุนุฉ โEdge Runtime Constraintsโ.

> **ููุงุญุธุฉ ูููููู:** ุนูุฏ ุงุณุชูุงูู ููุฐุง ุงููููุ ุฏูุฑู ูู ุชุทุจูู ูุฐู ุงูููุงุนุฏ ุจุตุฑุงูุฉ.
> ุฃู ููุฏ ุฃู ูุญุชูู ูุฎุงูู ุฃู ูุงุนุฏุฉ ูู ุงูุฃูุณุงู 1-13 ููุฑูุถ ููุฑุงู.
> ุนูุฏ ุงูุดู: ุงุฑุฌุน ููุฐุง ุงูููู ุฃููุงูุ ุซู ููููุงุช ุงููุดุฑูุน ุงูุชูุตูููุฉ (TADุ Content Planุ UX).
>
> ููููุงุนุฏ ุงูุนุงูุฉ ููุชูุงุตู ูุงูุณูุงูุฉ:
>
> `ุฑุงุฌุน gemini.md`