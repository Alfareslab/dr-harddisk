---
// src/components/content/GentleNote.astro
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GentleNote â€” Knowledge-First Soft CTA
// Source: Constitution Â§11, Â§12 | TAD v4.2 Â§4.4
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//
// PURPOSE: A gentle, non-aggressive nudge at the end of articles.
//          It bridges the "knowledge layer" to the "local layer"
//          without breaking the site's authority tone.
//
// TONE:   "If you need help, we're here." â€” NOT "BUY NOW!"
// DATA:   ALL location data comes from location.ts (never hardcoded)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import { currentLocation } from "../../config/location";

interface Props {
  lang?: "ar" | "en";
}

const { lang = "ar" } = Astro.props;

const isArabic = lang === "ar";
const facility = isArabic
  ? currentLocation.facilityName.ar
  : currentLocation.facilityName.en;
const city = isArabic
  ? currentLocation.city.ar
  : currentLocation.city.en;
const noteText = isArabic
  ? currentLocation.gentleNote.ar
  : currentLocation.gentleNote.en;
const whatsappLabel = isArabic ? "ÙˆØ§ØªØ³Ø§Ø¨" : "WhatsApp";
const mapsLabel = isArabic ? "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©" : "View on Map";
---

<aside
  class="gentle-note"
  role="complementary"
  aria-label={isArabic ? "Ù…Ù„Ø§Ø­Ø¸Ø©" : "Note"}
>
  <p class="gentle-note__icon">ğŸ’¡</p>
  <p class="gentle-note__text">{noteText}</p>
  <div class="gentle-note__links">
    <a
      href={currentLocation.contact.whatsappUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="gentle-note__link"
    >
      {whatsappLabel}
    </a>
    <a
      href={currentLocation.googleMapsUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="gentle-note__link"
    >
      {mapsLabel}
    </a>
  </div>
</aside>

<style>
  .gentle-note {
    margin-block: 2rem;
    padding: 1.25rem 1.5rem;
    border-inline-start: 4px solid var(--color-primary-500, #22c55e);
    background-color: var(--color-primary-50, #f0fdf4);
    border-radius: 0.5rem;
  }

  .gentle-note__icon {
    font-size: 1.25rem;
    margin-block-end: 0.5rem;
  }

  .gentle-note__text {
    font-size: 0.95rem;
    line-height: 1.7;
    color: var(--color-primary-700, #15803d);
    margin: 0;
  }

  .gentle-note__links {
    display: flex;
    gap: 1rem;
    margin-block-start: 0.75rem;
    flex-wrap: wrap;
  }

  .gentle-note__link {
    font-size: 0.85rem;
    color: var(--color-primary-600, #16a34a);
    text-decoration: underline;
    text-underline-offset: 3px;
    transition: color 0.2s ease;
  }

  .gentle-note__link:hover {
    color: var(--color-primary-700, #15803d);
  }
</style>
