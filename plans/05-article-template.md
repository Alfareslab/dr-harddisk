# ๐ Plan: Phase 1.5 โ Article Template (The Quiet Reader)

> **ุงูุญุงูุฉ:** โณ ูุณูุฏุฉ (Waiting for Approval)
> **ุงูุชุงุฑูุฎ:** 2026-02-19
> **ุงููุฑุน:** `feature/phase-1.5-article-template`
> **ุงููุฑุฌุน:** `plans/00-master-plan.md` | `Research/03_DrHardDisk_PRD_v4.md`

---

## 1. ุงููุฏู (Goal)
ุจูุงุก "ูุงูุจ ุงูููุงู" (Article Template) ุงูุฐู ููุซู ููุจ ุงูุชุฌุฑุจุฉ ุงููุนุฑููุฉ ูู ุงููููุน. ุงููุฏู ูู ุฎูู ุจูุฆุฉ ูุฑุงุกุฉ ูุงุฏุฆุฉุ ุฎุงููุฉ ูู ุงูุชุดุชุช (No Panic UI)ุ ุชุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ุจููุงุกุฉ ูุชุณุงููุฉุ ูุน ุถูุงู ุฃุฏุงุก ุชููู ุนุงูู.

### ูุง ูุง ูุดููู ูุฐุง ุงูุทูุฑ (What This Phase Is NOT):
- โ **ุฌุฏูู ุงููุญุชููุงุช (TOC):** ูุคุฌู (Deferred via MVP Decision).
- โ **ุงูููุงูุงุช ุฐุงุช ุงูุตูุฉ (Related Posts):** ูุคุฌูุฉ ูุทูุฑ ูุงุฏู.
- โ **ูุธุงู ุงูุชุนูููุงุช:** ุบูุฑ ูุฎุทุท ูู ุญุงููุงู.
- โ **ุฃุฒุฑุงุฑ ุงููุดุงุฑูุฉ ุงููุนูุฏุฉ:** ุณููุชูู ุจุงูุฃุณุงุณูุงุช ุฅู ูุฌุฏุชุ ุฃู ูุคุฌููุง.
- โ **ุชุนุฏูู `BaseLayout`:** ุณูุณุชุฎุฏูู ููุง ููุ ููู ูุนุฏูู ุฅูุง ููุถุฑูุฑุฉ ุงููุตูู (Hotfix).

---

## 2. ุจูุงุจุงุช ูุง ูุจู ุงูุชูููุฐ (Pre-Implementation Gates)
- [ ] **ุงูููุงููุฉ ุนูู ุงูุฎุทุฉ:** ูุฌุจ ุฃู ููุงูู ุงููุทูุฑ ุนูู ูุฐุง ุงูููู.
- [ ] **ุงููุฑุน ุงูุตุญูุญ:** ุงูุชุฃูุฏ ูู ุงูุนูู ุนูู `feature/phase-1.5-article-template`.
- [ ] **ูุญุต ุงูุชุจุนูุงุช:** ุงูุชุฃูุฏ ูู ุฃู `BaseLayout` ู `NavBar` ู `Footer` ุชุนูู ุจุงุณุชูุฑุงุฑ (ุชู ูู Phase 1.4).

---

## 3. ุงููููุฏ ุงูุญุฑุฌุฉ (Critical Constraints)

| ุงูุฑูุฒ | ุงูููุฏ | ุงูุชูุงุตูู |
|-------|-------|----------|
| **C-1** | **RTL-First** | ุงูุชุตููู ูุจุฏุฃ ูู ุงูุนุฑุจูุฉ. ูู ูุงูุดุ ูุณุงูุฉุ ุฃู ุฃููููุฉ ูุฌุจ ุฃู ุชุฏุนู `dir="rtl"` ู `dir="ltr"` ุชููุงุฆูุงู ุนุจุฑ Logical Properties (`ms-` ุจุฏู `ml-`, `start` ุจุฏู `left`). |
| **C-2** | **No Panic UI** | ุชุฌูุจ ุงูุฃููุงู ุงูุตุงุฑุฎุฉ ูู ุฌุณู ุงูููุงู. ุงูุชุฑููุฒ ุนูู ุงูุชุจุงูู ุงููุฑูุญ ูููุฑุงุกุฉ (Typography). ุงุณุชุฎุฏุงู `GentleNote` ููุฑุณุงุฆู ุงููููุฉ ุจุฏูุงู ูู ุงูู Alerts ุงููุฒุนุฌุฉ. |
| **C-3** | **Bilingual Routing** | ุงูููุงูุงุช ุงูุนุฑุจูุฉ ูู `/posts/`ุ ูุงูุฅูุฌููุฒูุฉ ูู `/en/posts/`. ูุง ุฎูุท ุจูู ุงููุบุชูู ูู ููุณ ุงููุณุงุฑ. |
| **C-4** | **Type Safety** | ุงุณุชุฎุฏุงู `src/content/config.ts` ููุชุญูู ุงูุตุงุฑู ูู ุงูุจูุงูุงุช. ุฃู ุฎุทุฃ ูู ุงูุจูุงูุงุช ูููุน ุงูุจูุงุก. |
| **C-5** | **Portable Brand** | ุงุณุชูุฑุงุฏ ุฃู ูุตูุต ุซุงุจุชุฉ ุฃู ุฑูุงุจุท ูู `src/config/location.ts`. ููููุน ูุชุงุจุฉ "Dr. Hard Disk" ูุฏููุงู ูู ุงูููุฏ. |

---

## 4. ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ (Architectural Decisions)

### 4.1 ูููููุฉ ุงููููุงุช (File Architecture)

```
src/
โโโ layouts/
โ   โโโ PostLayout.astro       โ [NEW] ุงููุงูุจ ุงูููุญุฏ ููููุงูุงุช (ูุบูู ุงููุญุชูู)
โโโ pages/
โ   โโโ posts/
โ   โ   โโโ [slug].astro       โ [NEW] ุงูุตูุญุฉ ุงูุฏููุงููููุฉ ููููุงูุงุช ุงูุนุฑุจูุฉ
โ   โโโ en/
โ       โโโ posts/
โ           โโโ [slug].astro   โ [NEW] ุงูุตูุญุฉ ุงูุฏููุงููููุฉ ููููุงูุงุช ุงูุฅูุฌููุฒูุฉ
โโโ content/
    โโโ posts/                 โ (ููุฌูุฏ) ูุตุฏุฑ ุงูุจูุงูุงุช (MDX)
```

### 4.2 ุงุณุชุฑุงุชูุฌูุฉ ุงูุชูุฌูู (Routing Strategy)

| ุงููุบุฉ | ุงููุณุงุฑ | ุงูููุทู |
|-------|--------|--------|
| **ุงูุนุฑุจูุฉ** | `/posts/[slug]` | `getStaticPaths` ูููุชุฑ ุงูููุงูุงุช ุจู `lang: 'ar'` ููุท. |
| **ุงูุฅูุฌููุฒูุฉ** | `/en/posts/[slug]` | `getStaticPaths` ูููุชุฑ ุงูููุงูุงุช ุจู `lang: 'en'` ููุท. |

> **ููุงุญุธุฉ:** ุงูู Slug ูุชู ุชูููุฏู ูู ุงุณู ุงูููู (Astro v5 default for glob loader) ุฃู ูู ุญูู `slug` ูู ุงูู Frontmatter ุฅุฐุง ุชู ุฅุนุฏุงุฏู (ุญุงููุงู ุณูุนุชูุฏ ุนูู ุงุณู ุงูููู ุฃู `id` ุญุณุจ `astro:content`).

### 4.3 ุงูุชุตููู ูุงูุชุงูุจูุฌุฑุงูู (Typography & Prose)
ุณูุณุชุฎุฏู `platform-prose` (ูุฆุฉ ูุฎุตุตุฉ ูู Tailwind v4 ุฃู `@tailwindcss/typography` ุฅุฐุง ูุงู ูุซุจุชุงูุ ูุฅุฐุง ูุง ุณููุชุจ ุชูุณููุงุช ูุฎุตุตุฉ ูุถูุงู "No Panic UI").
- **ุงูุนูุงููู:** ุฎุท ูุงุถุญุ ุชุจุงูู ุนุงูู.
- **ุงููุต:** ููู ูุฑูุญ ููุนูู (ููุณ ุฃุณูุฏ 100%ุ ุจู `gray-800` ุฃู `slate-900`).
- **ุงููุณุงูุงุช:** ูุฑูุญุฉ ุฌุฏุงู (Relaxed breathing room).

---

## 5. ูุฑุงุญู ุงูุชูููุฐ (Implementation Phases)

### Phase 1.5A: ุชุตููู `PostLayout` (The Container)
- **ุงููุฏู:** ุฅูุดุงุก ุงููุงูุจ ุงูุฐู ุณูุญุชูู ุงูู MDX.
- **ุงูููุงู:**
  1. ุฅูุดุงุก `src/layouts/PostLayout.astro`.
  2. ุงุณุชูุจุงู `props` ุงูููุงู (title, description, image, pubDate, ...).
  3. ุชูุฑูุฑ ุงูุจูุงูุงุช ูู `BaseLayout`.
  4. ุชุตููู ุงูู **Header** ุงูุฎุงุต ุจุงูููุงู (ุงูุนููุงูุ ุงูุตูุฑุฉ ุงูุจุงุฑุฒุฉุ ุงูุชุงุฑูุฎุ ุงููุงุชุจ).
  5. ุชุฎุตูุต ููุทูุฉ ุงููุญุชูู (`slot`) ุจุชูุณููุงุช `prose` ุชุฏุนู RTL/LTR.
  6. ุฅุถุงูุฉ `GentleNote` (ุงุฎุชูุงุฑู/ุชุฌุฑุจุฉ) ููุชุฃูุฏ ูู ุชูุงุณูู.

### Phase 1.5B: ุงููุณุงุฑ ุงูุนุฑุจู (AR Route)
- **ุงููุฏู:** ุฌุนู ุงูููุงูุงุช ุงูุนุฑุจูุฉ ูุงุจูุฉ ูููุตูู.
- **ุงูููุงู:**
  1. ุฅูุดุงุก `src/pages/posts/[slug].astro`.
  2. ูุชุงุจุฉ `getStaticPaths` ูุฌูุจ ููุงูุงุช `lang: 'ar'` ููุท.
  3. ุฑุจุท ุงูุตูุญุฉ ุจู `PostLayout`.
  4. ุงูุชุฃูุฏ ูู ุนุฑุถ ุงููุญุชูู ุงูู MDX ุจุดูู ุตุญูุญ.

### Phase 1.5C: ุงููุณุงุฑ ุงูุฅูุฌููุฒู (EN Route)
- **ุงููุฏู:** ุฌุนู ุงูููุงูุงุช ุงูุฅูุฌููุฒูุฉ ูุงุจูุฉ ูููุตูู.
- **ุงูููุงู:**
  1. ุฅูุดุงุก `src/pages/en/posts/[slug].astro`.
  2. ูุชุงุจุฉ `getStaticPaths` ูุฌูุจ ููุงูุงุช `lang: 'en'` ููุท.
  3. ุฑุจุท ุงูุตูุญุฉ ุจู `PostLayout` (ูุน ุชูุฑูุฑ `lang="en"`).
  4. ุงูุชุญูู ูู ุงุชุฌุงู ุงูุตูุญุฉ (LTR) ูุงูุฎุทูุท.

### Phase 1.5D: ูุญุชูู ุงูุงุฎุชุจุงุฑ (Test Content)
- **ุงููุฏู:** ุงูุชุฃูุฏ ูู ุฃู ุงููุธุงู ูุนูู ูุน ูุญุชูู ุญูููู/ุชุฌุฑูุจู.
- **ุงูููุงู:**
  1. ุฅูุดุงุก ููู `src/content/posts/test-ar.mdx` (ุนุฑุจู).
  2. ุฅูุดุงุก ููู `src/content/posts/test-en.mdx` (ุฅูุฌููุฒู).
  3. ุงูุชุฃูุฏ ูู ุธููุฑ ุงูุตูุฑุ ุงูุนูุงูููุ ุงูููุงุฆูุ ู `GentleNote` ุฏุงุฎู ุงููุญุชูู.

### Phase 1.5E: ุงููุฑุงุฌุนุฉ ูุงูุชูุธูู (Review & Audit)
- **ุงููุฏู:** ุชุฌููุฒ ุงูููุฏ ููุฏูุฌ.
- **ุงูููุงู:**
  1. ุชุดุบูู `pnpm astro check`.
  2. ุชุดุบูู `pnpm build` ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฑูุงุจุท ููุณูุฑุฉ.
  3. ุชูุณูู ุงูููุฏ (Prettier/Lint).
  4. ูุชุญ PR ูููุฑุงุฌุนุฉ (CodeRabbit).

---

## 6. ุฎุทุฉ ุงูุชุญูู (Verification Plan)

| ุงูุงุฎุชุจุงุฑ | ุงูุฃูุฑ / ุงูุทุฑููุฉ | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|----------|-----------------|------------------|
| **ูุญุต ุงูุฃุฎุทุงุก** | `pnpm astro check` | `0 errors, 0 warnings` |
| **ุงูุจูุงุก** | `pnpm build` | ุจูุงุก ูุงุฌุญ ูุชูููุฏ ูููุงุช HTML ูู `dist/` |
| **Routing AR** | ุฒูุงุฑุฉ `/posts/test-ar` | ุงูุตูุญุฉ ุชูุชุญุ ุงูุงุชุฌุงู RTLุ ุงููุญุชูู ุนุฑุจู |
| **Routing EN** | ุฒูุงุฑุฉ `/en/posts/test-en` | ุงูุตูุญุฉ ุชูุชุญุ ุงูุงุชุฌุงู LTRุ ุงููุญุชูู ุฅูุฌููุฒู |
| **404 Check** | ุฒูุงุฑุฉ `/posts/fake-slug` | ุชุธูุฑ ุตูุญุฉ 404 ุงููุฎุตุตุฉ |
| **Styles** | ูุญุต ุจุตุฑู (Desktop/Mobile) | ุงูููุงูุดุ ุงูุฎุทูุทุ ุงูุตูุฑ ูุชุฌุงูุจุฉ ููุง ุชูุณุฑ ุงููุงูุจ |

---

## 7. ุชุนุฑูู ุงูุงูุชูุงุก (Definition of Done)
- [ ] `PostLayout` ุฌุงูุฒ ููุนูู ูุน ุงููุบุชูู.
- [ ] ุงููุณุงุฑุงุช ุงูุฏููุงููููุฉ (`[slug]`) ุชุนูู ููู ูุบุฉ ุจุดูู ูููุตู.
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูู Console ุฃู ุฃุซูุงุก ุงูุจูุงุก.
- [ ] ุงูุชูุณููุงุช (Typography) ูุฑูุญุฉ ูุชุฏุนู RTL/LTR ุจุดูู ุตุญูุญ.
- [ ] ุงูููุฏ ูุธูู ูููุซู.
